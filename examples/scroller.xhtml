<!DOCTYPE html PUBLIC
  "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Scroller Interface</title>
  <script type="application/javascript" src=".../lib/jquery/jquery.js"/>
  <script type="application/javascript" src=".../lib/strophe/strophe.js"/>
  <script type="application/javascript" src="scroller.jquery"/>
  <script type="application/javascript">
    function position( state ) {
        var win = state['window']
        var cvs = state['canvas']
        var dest = ( {
            get top() { return {
                get left() { return {
                    x : win.width / 2,
                    y : window.height / 2,
                } },
                get right() { return {
                    x : cvs.width - win.width / 2,
                    y : win.height / 2,
                } },
            } },
            get bottom() { return {
                get left() { return {
                    x : win.width / 2,
                    y : cvs.height - win.height / 2,
                } },
                get right() { return {
                    x : cvs.width - win.width / 2,
                    y : cvs.height - win.height / 2,
                } },
            } }
        } ).top.left

        var pos = ( state[ 'offset' ] >= 1
                      ? dest
                      : ( function() {
                          return dest
                        } )() )
        return pos
    }
    $( function() {
        var moveTime = 1 // one second
        var startTime = new Date()
        function scroll() {
            var callTime = new Date()
            var offset = ( ( callTime.getTime() - startTime.getTime() )
                           / ( moveTime * 1000 ) )
            // The box covers the total space in a maximum of
            // 'time' units.
            var move = position( {
                canvas : {
                    height: document.documentElement.scrollHeight,
                    width: document.documentElement.scrollWidth,
                },
                window : {
                    x: document.documentElement.scrollLeft,
                    y: document.documentElement.scrollTop,
                    height: document.documentElement.clientHeight,
                    width: document.documentElement.clientWidth,
                },
                offset : offset,
            } )
            if( move ) window.scrollBy( move.x, move.y )
        }
        //scroll()
        setInterval( scroll, 1000 )
    } )
  </script>
  <style type="text/css">
    html, body { margin: 0; min-height: 2000px }
    form { float: left }
    label:after { content: ":" }
    label { display: inline-block; min-width: 5.5em; text-align: right }
    li:last-child button { float: right }
    li { list-style: none; padding: .1em 0 }
    body > ol { margin: 0; padding: 0 }
    body > ol > li:before, body > ol > li:after {
      content: ''; clear: both; display: block
    }
    body > ol > li { border-style: double none; padding: 1em;
                     border-width: 3px; margin-top: -3px }
    body > ol > li:first-child { margin-top: 3px; border-color: blue }
  </style>
</head>
<body>
  <ol id="log"/>
  <ol id="action">
    <li>
      <form id="connect" action="">
        <fieldset>
          <legend>XMPP Connect?</legend>
          <ul>
            <li>
              <label for="user"><acronym title="identifier">ID</acronym></label>
              <input id="user" type="text" value="mimis.test@gmail.com" />
            </li>
            <li>
              <label for="server">Server</label>
              <input id="server" type="text" value="talk.google.com" />
            </li>
            <li>
              <label for="pass">Password</label>
              <input id="pass" type="password" value="mimistest" />
            </li>
          </ul>
        </fieldset>
      </form>
    </li>
  </ol>
</body>
</html>
