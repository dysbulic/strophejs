<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="-50 -50 100 100" width="100%" height="100%"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:html="http://www.w3.org/1999/xhtml"
     xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Scroller Interface</title>
  <defs>
    <script type='application/javascript' xlink:href='.../lib/jquery/jquery.js'></script>
    <script type='application/javascript' xlink:href='.../lib/strophe/strophe.js'></script>

    <script type="application/javascript" xlink:href=".../lib/tip/Array.each.js"/>
    <script type="application/javascript" xlink:href=".../lib/tip/__.jquery"/>

    <script type="application/javascript"><![CDATA[
        var win = { width: window.clientWidth,
                    height: window.clientHeight, }
        var viewBox = [ - win.width / 2, - win.height / 2, win.width, win.height ].join( ' ' )
        $.__.$( '#' ).attr( 'viewBox', viewBox )
        alert( $.__.$( '#' ).attr( 'viewBox' ) )
    ]]></script>

    <script type="application/javascript"><![CDATA[
        var connection
        var BOSH_SERVICE = '/http-bind/'

        function onConnect( status ) {
            if( status == Strophe.Status.CONNECTING ) {
	        log('Strophe is connecting.');
            } else if( status == Strophe.Status.CONNFAIL ) {
	        log('Strophe failed to connect.');
	        $('#connect').get(0).value = 'connect';
            } else if( status == Strophe.Status.DISCONNECTING ) {
	        log('Strophe is disconnecting.');
            } else if( status == Strophe.Status.DISCONNECTED ) {
	        log('Strophe is disconnected.');
	        $('#connect').get(0).value = 'connect';
            } else if( status == Strophe.Status.CONNECTED ) {
	        log('Strophe is connected.');
	        connection.disconnect();
            }
        }
        
        $(function() {
            connection = new Strophe.Connection( BOSH_SERVICE )
            //connection.rawInput = rawInput;
            //connection.rawOutput = rawOutput;
            
            $('#connect').bind('click', function () {
	        var button = $('#connect').get(0);
	        if (button.value == 'connect') {
	            button.value = 'disconnect';
                    
	            connection.connect($('#jid').get(0).value,
			               $('#pass').get(0).value,
			               onConnect);
	        } else {
	            button.value = 'connect';
	            connection.disconnect();
	        }
            })
        })
    ]]></script>
    <style type="text/css">
    </style>

  </defs>
</svg>
